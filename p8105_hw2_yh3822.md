p8105_hw2_yh3822
================
2024-10-01

``` r
library(tidyverse)
library(readxl)
library(dplyr)
```

## Problem 1

``` r
nyc_transit_df = 
  read_csv("./data/NYC_Transit_Subway_Entrance_And_Exit_Data.csv") %>%
  janitor::clean_names() %>%
  select(line, station_name, station_latitude, station_longitude, starts_with("route"), entry, vending, entrance_type, ada) %>%
  mutate(entry = case_match(entry, "YES" ~ TRUE, "NO" ~ FALSE))
```

This dataset describes the information related to each entrance and exit
for each subway station in NYC, and it contains 19 variables, which are
line, station_name, station_latitude, station_longitude, route1, route2,
route3, route4, route5, route6, route7, route8, route9, route10,
route11, entry, vending, entrance_type, and ada. To clean up the data, I
first made all the variable names lowercase, then filtered from there
the variables I needed to use, removed the unnecessary ones, and finally
converted the character variable “entry” to a logical variable. The
dimension of this dataset is 1868 rows \* 19 columns. I think these data
are tidy.

``` r
distinct_stations = nyc_transit_df %>%
  distinct(station_name, line)
```

There are 465 distinct stations.

``` r
ada_stations = nyc_transit_df %>%
  filter(ada == TRUE) %>%
  distinct(station_name, line)
```

There are 84 stations are ADA compliant.

``` r
no_vending_entry = nyc_transit_df %>%
  filter(vending == "NO" & entry == TRUE) %>%
  distinct(station_name, line)
```

There are 9.2473118 percent of station entrances / exits without vending
allow entrance.

``` r
nyc_transit_df = nyc_transit_df %>%
  mutate(across(starts_with("route"), as.character))

nyc_transit_df_tidy = nyc_transit_df %>%
  pivot_longer(cols = starts_with("route"),
               names_to = "route_number",   
               values_to = "route_name",    
               values_drop_na = TRUE)
```

``` r
a_train_stations = nyc_transit_df_tidy %>%
  filter(route_name == "A") %>%
  distinct(station_name, line)
```

There are 60 distinct stations that served A train.

``` r
ada_a_train_stations = nyc_transit_df_tidy %>%
  filter(route_name == "A", ada == TRUE) %>%
  distinct(station_name, line)
```

There are 17 distinct stations that served A train are ADA compliant.

## Problem 2

``` r
mr_trash_wheel_df = 
  read_xlsx("./data/202309 Trash Wheel Collection Data.xlsx", sheet = "Mr. Trash Wheel", skip = 1) %>%
  janitor::clean_names() %>%
  select(-homes_powered, -x15, -x16) %>%
  rename(dumpster_number = dumpster) %>%
  filter(!is.na(dumpster_number)) %>%
  mutate(sports_balls = as.integer(round(sports_balls, 0))) %>%
  mutate(trash_wheel = "Mr. Trash Wheel") %>%
  mutate(year = as.integer(year))
```

``` r
professor_trash_wheel_df = 
  read_xlsx("./data/202309 Trash Wheel Collection Data.xlsx", sheet = "Professor Trash Wheel", skip = 1) %>%
  janitor::clean_names() %>%
  select(-homes_powered) %>%
  rename(dumpster_number = dumpster) %>%
  filter(!is.na(dumpster_number)) %>%
  mutate(trash_wheel = "Professor Trash Wheel") %>%
  mutate(year = as.integer(year))
```

``` r
gwynnda_trash_wheel_df = 
  read_xlsx("./data/202309 Trash Wheel Collection Data.xlsx", sheet = "Gwynnda Trash Wheel", skip = 1) %>%
  janitor::clean_names() %>%
  select(-homes_powered) %>%
  rename(dumpster_number = dumpster) %>%
  filter(!is.na(dumpster_number)) %>%
  mutate(trash_wheel = "Gwynnda Trash Wheel") %>%
  mutate(year = as.integer(year))
```

``` r
combined_trash_wheel_data <- bind_rows(mr_trash_wheel_df, professor_trash_wheel_df, gwynnda_trash_wheel_df)
```

This dataset contains information on the various types of trash for the
three trash wheels, which are Mr. Trash Wheel, Professor Trash Wheel,
and Gwynnda Trash Wheel, , reflecting the efforts of these devices to
clean up waterways. The dataset contains 845 observations, with key
variables including dumpster_number, month, year, weight_tons,
plastic_bottles, polystyrene_containers, and so on. The total weight of
trash collected by Professor Trash Wheel is 216.26 tons. Additionally,
Gwynnda collected 1.812^{4} cigarette butts in June 2022.
